{"ast":null,"code":"var _jsxFileName = \"/Users/fatmaamara/Desktop/projetetude/authentification-main/front-end/src/components/views/EditProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { registerHandler } from \"../../redux/action/auth-action\";\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\"; // export default function Example() {\n//   const [show, setShow] = useState(false);\n//   const [name, setname] = useState(\"\");\n//   const [lastName, setlastName] = useState(\"\");\n//   const [email, setemail] = useState(\"\");\n//   const [password, setpassword] = useState(\"\");\n//   const [status, setStatus] = useState(\"\");\n//   const [account, setAccount] = useState(\"\");\n//   const handleClose = () => setShow(false);\n//   const handleShow = () => {\n//     setShow(true);\n//     localStorage.clear();\n//   };\n//   const history = useHistory();\n//   const dispatch = useDispatch();\n//   const registerUser = (e) => {\n//     e.preventDefault();\n//     const newUser = { name, lastName, email, password, status, account };\n//     dispatch(registerHandler(newUser));\n//     history.push(\"/dashboard\");\n//     setname(\"\");\n//     setlastName(\"\");\n//     setemail(\"\");\n//     setpassword(\"\");\n//     setStatus(\"\");\n//     handleClose();\n//   };\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditProfile = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [name, setname] = useState(\"\");\n  const [lastName, setlastName] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    const fetchData = async () => {\n      const userId = localStorage.getItem(\"id\");\n      const result = await axios(`http://localhost:2000/api/auth/${userId}`);\n      console.log(result.data, \"useerrr\");\n      setData(result.data);\n    };\n\n    fetchData();\n  }, []);\n\n  const UpdateUser = e => {\n    e.preventDefault();\n    const editUser = {\n      name,\n      lastName,\n      email\n    };\n    console.log(editUser, \"editUser\");\n    const userId = localStorage.getItem(\"id\");\n    axios.put(`http://localhost:2000/api/auth/${userId}`, editUser); // history.push(\"/dashboard\");\n  };\n\n  const onchange = e => {\n    console.log(e.target.value, \"value\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cover\",\n      class: \"min-vh-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"cover-caption\",\n        style: {\n          marginTop: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"px-2\",\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicEmail\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      className: \"itemlabel\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      className: \"itemStyle\",\n                      type: \"name\",\n                      placeholder: data.name,\n                      name: \"name\",\n                      value: name,\n                      onChange: e => setname(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      className: \"itemlabel\",\n                      children: \"lastName\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"lastName\",\n                      placeholder: data.lastName,\n                      name: \"lastName\",\n                      value: lastName,\n                      className: \"itemStyle\",\n                      onChange: e => //  setlastName(e.target.value)\n                      onchange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formBasicPassword\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      className: \"itemlabel\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"email\",\n                      placeholder: data.email,\n                      name: \"email\",\n                      value: email,\n                      className: \"itemStyle\",\n                      onChange: e => setemail(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      justifyContent: \"space-between\",\n                      padding: \"5% 14%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      className: \"buttonStyle\",\n                      variant: \"primary\",\n                      type: \"submit\",\n                      style: {\n                        backgroundColor: \"#00AAEE\"\n                      },\n                      onClick: e => UpdateUser(),\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditProfile, \"M6NUzSbPpv9+kD47sp7VFiQ10q0=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditProfile;\nexport default EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["/Users/fatmaamara/Desktop/projetetude/authentification-main/front-end/src/components/views/EditProfile.js"],"names":["React","useEffect","Modal","Button","Form","useDispatch","useState","registerHandler","useHistory","axios","EditProfile","data","setData","name","setname","lastName","setlastName","email","setemail","history","fetchData","userId","localStorage","getItem","result","console","log","UpdateUser","e","preventDefault","editUser","put","onchange","target","value","marginTop","justifyContent","padding","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { registerHandler } from \"../../redux/action/auth-action\";\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\";\n// export default function Example() {\n//   const [show, setShow] = useState(false);\n//   const [name, setname] = useState(\"\");\n//   const [lastName, setlastName] = useState(\"\");\n//   const [email, setemail] = useState(\"\");\n//   const [password, setpassword] = useState(\"\");\n//   const [status, setStatus] = useState(\"\");\n//   const [account, setAccount] = useState(\"\");\n//   const handleClose = () => setShow(false);\n//   const handleShow = () => {\n//     setShow(true);\n//     localStorage.clear();\n//   };\n//   const history = useHistory();\n//   const dispatch = useDispatch();\n//   const registerUser = (e) => {\n//     e.preventDefault();\n//     const newUser = { name, lastName, email, password, status, account };\n//     dispatch(registerHandler(newUser));\n//     history.push(\"/dashboard\");\n//     setname(\"\");\n//     setlastName(\"\");\n//     setemail(\"\");\n//     setpassword(\"\");\n//     setStatus(\"\");\n//     handleClose();\n//   };\n\nconst EditProfile = () => {\n  const [data, setData] = useState([]);\n  const [name, setname] = useState(\"\");\n  const [lastName, setlastName] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    const fetchData = async () => {\n      const userId = localStorage.getItem(\"id\");\n      const result = await axios(`http://localhost:2000/api/auth/${userId}`);\n      console.log(result.data, \"useerrr\");\n      setData(result.data);\n    };\n\n    fetchData();\n  }, []);\n\n  const UpdateUser = (e) => {\n    e.preventDefault();\n\n    const editUser = { name, lastName, email };\n\n    console.log(editUser, \"editUser\");\n    const userId = localStorage.getItem(\"id\");\n    axios.put(`http://localhost:2000/api/auth/${userId}`, editUser);\n    // history.push(\"/dashboard\");\n  };\n\n  const onchange = (e) => {\n    console.log(e.target.value, \"value\");\n  };\n  return (\n    <>\n      {/* <section id=\"cover\" class=\"min-vh-100\">\n        <div id=\"cover-caption\" style={{ marginTop: \"100px\" }}>\n          <div class=\"container\">\n            <Form>\n              <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                <div>\n                  <Form.Label>name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Enter your name\"\n                    onChange={(e) => setname(e.target.value)}\n                  />\n                </div>\n                <div>\n                  <Form.Label>Last Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Enter your last name \"\n                    onChange={(e) => setlastName(e.target.value)}\n                  />\n                </div>\n                <div>\n                  <Form.Label>Email address</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    placeholder=\"Enter email\"\n                    onChange={(e) => {\n                      setemail(e.target.value);\n                      if (email.includes(\"admin\")) {\n                        setStatus(\"admin\");\n                        setAccount(\"true\");\n                        console.log(status, \"sta\");\n                      } else {\n                        setStatus(\"user\");\n                        setAccount(\"false\");\n                      }\n                    }}\n                  />\n\n                  <Form.Text className=\"text-muted\">\n                    We'll never share your email with anyone else.\n                  </Form.Text>\n                </div>\n              </Form.Group>\n\n              <Form.Group\n                className=\"mb-3\"\n                controlId=\"formBasicPassword\"\n                style={{ display: \"flex\" }}\n              >\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  onChange={(e) => setpassword(e.target.value)}\n                />\n              </Form.Group>\n\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={registerUser}\n                text=\"submit\"\n              >\n                Submit\n              </Button>\n            </Form>\n          </div>\n        </div>\n      </section> */}\n\n      <section id=\"cover\" class=\"min-vh-100\">\n        <div id=\"cover-caption\" style={{ marginTop: \"100px\" }}>\n          <div class=\"container\">\n            <div class=\"row text-white\">\n              <div class=\"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4\">\n                <div class=\"px-2\">\n                  <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                      <Form.Label className=\"itemlabel\">Name</Form.Label>\n                      <Form.Control\n                        className=\"itemStyle\"\n                        type=\"name\"\n                        placeholder={data.name}\n                        name=\"name\"\n                        value={name}\n                        onChange={(e) => setname(e.target.value)}\n                      />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicPassword\">\n                      <Form.Label className=\"itemlabel\">lastName</Form.Label>\n                      <Form.Control\n                        type=\"lastName\"\n                        placeholder={data.lastName}\n                        name=\"lastName\"\n                        value={lastName}\n                        className=\"itemStyle\"\n                        onChange={(e) =>\n                          //  setlastName(e.target.value)\n                          onchange(e)\n                        }\n                      />\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicPassword\">\n                      <Form.Label className=\"itemlabel\">Email</Form.Label>\n                      <Form.Control\n                        type=\"email\"\n                        placeholder={data.email}\n                        name=\"email\"\n                        value={email}\n                        className=\"itemStyle\"\n                        onChange={(e) => setemail(e.target.value)}\n                      />\n                    </Form.Group>\n                    <div\n                      style={{\n                        justifyContent: \"space-between\",\n                        padding: \"5% 14%\",\n                      }}\n                    >\n                      <Button\n                        className=\"buttonStyle\"\n                        variant=\"primary\"\n                        type=\"submit\"\n                        style={{ backgroundColor: \"#00AAEE\" }}\n                        onClick={(e) => UpdateUser()}\n                      >\n                        Submit\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}