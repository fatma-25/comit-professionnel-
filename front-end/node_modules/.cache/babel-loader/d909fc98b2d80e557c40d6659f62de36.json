{"ast":null,"code":"var _jsxFileName = \"/Users/fatmaamara/Desktop/projetetude/authentification-main/front-end/src/components/views/SharedDocument.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport ReadAndDownold from \"../ReadAndDownold\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SharedDocument = () => {\n  _s();\n\n  const [data, setData] = useState([]); //   const [url, seturl] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(\"http://localhost:2000/file\");\n      setData(result.data);\n    };\n\n    fetchData();\n  }, []);\n  let url;\n\n  const viewHandler = async file => {\n    console.log(file, \"file\");\n    axios({\n      url: `http://localhost:2000/pdf/${file.filename}`,\n      method: \"GET\",\n      responseType: \"blob\" // important\n\n    }).then(response => {\n      url = window.URL.createObjectURL(new Blob([response.data], {\n        type: \"application/pdf\"\n      }));\n      window.open(url);\n    });\n  };\n\n  const download = async file => {\n    // axios({\n    //   url: `http://localhost:2000/pdf/${file.filename}`,\n    //   method: \"GET\",\n    //   responseType: \"blob\", // important\n    // }).then((response) => {\n    //   url = window.URL.createObjectURL(\n    //     new Blob([response.data], { type: \"application/pdf\" })\n    //   );\n    // });\n    // url = \"\";\n    // const link = document.createElement(\"a\");\n    // link.href = url;\n    // link.setAttribute(\"download\", \"file.pdf\");\n    // document.body.appendChild(link);\n    // link.click();\n    fetch(\"https://cors-anywhere.herokuapp.com/\" + file.filename, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/pdf\"\n      }\n    }).then(response => response.blob()).then(blob => {\n      // Create blob link to download\n      const url = window.URL.createObjectURL(new Blob([blob]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", `${file.filename}`); // Append to html link element page\n\n      document.body.appendChild(link); // Start download\n\n      link.click(); // Clean up and remove the link\n\n      link.parentNode.removeChild(link);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    children: data.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      style: {\n        margin: 30\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"card-img-top\",\n          style: {\n            width: 100,\n            height: 100\n          },\n          src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/File_alt_font_awesome.svg/1024px-File_alt_font_awesome.svg.png\",\n          alt: \"Card image cap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          class: \"card-title\",\n          style: {\n            marginTop: 50,\n            marginLeft: 20\n          },\n          children: e.filename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => console.log(\"fffff\"),\n          children: \"hhhh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"card-text\",\n          children: \"Some quick example text to build on the card title and make up the bulk of the card's content.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-link\",\n          onClick: () => viewHandler(e),\n          children: [\" \", \"View Pdf\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-link\",\n          onClick: () => download(e.filename),\n          children: \"download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SharedDocument, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = SharedDocument;\nexport default SharedDocument;\n\nvar _c;\n\n$RefreshReg$(_c, \"SharedDocument\");","map":{"version":3,"sources":["/Users/fatmaamara/Desktop/projetetude/authentification-main/front-end/src/components/views/SharedDocument.js"],"names":["React","useEffect","useState","axios","ReadAndDownold","SharedDocument","data","setData","fetchData","result","url","viewHandler","file","console","log","filename","method","responseType","then","response","window","URL","createObjectURL","Blob","type","open","download","fetch","headers","blob","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","display","flexDirection","map","e","margin","width","height","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport ReadAndDownold from \"../ReadAndDownold\";\nconst SharedDocument = () => {\n  const [data, setData] = useState([]);\n  //   const [url, seturl] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(\"http://localhost:2000/file\");\n\n      setData(result.data);\n    };\n\n    fetchData();\n  }, []);\n\n  let url;\n  const viewHandler = async (file) => {\n    console.log(file, \"file\");\n    axios({\n      url: `http://localhost:2000/pdf/${file.filename}`,\n      method: \"GET\",\n      responseType: \"blob\", // important\n    }).then((response) => {\n      url = window.URL.createObjectURL(\n        new Blob([response.data], { type: \"application/pdf\" })\n      );\n      window.open(url);\n    });\n  };\n  const download = async (file) => {\n    // axios({\n    //   url: `http://localhost:2000/pdf/${file.filename}`,\n    //   method: \"GET\",\n    //   responseType: \"blob\", // important\n    // }).then((response) => {\n    //   url = window.URL.createObjectURL(\n    //     new Blob([response.data], { type: \"application/pdf\" })\n    //   );\n    // });\n    // url = \"\";\n    // const link = document.createElement(\"a\");\n    // link.href = url;\n    // link.setAttribute(\"download\", \"file.pdf\");\n    // document.body.appendChild(link);\n    // link.click();\n\n    fetch(\"https://cors-anywhere.herokuapp.com/\" + file.filename, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/pdf\",\n      },\n    })\n      .then((response) => response.blob())\n      .then((blob) => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", `${file.filename}`);\n\n        // Append to html link element page\n        document.body.appendChild(link);\n\n        // Start download\n        link.click();\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link);\n      });\n  };\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n      {data.map((e) => (\n        <div class=\"card\" style={{ margin: 30 }}>\n          <div style={{ display: \"flex\" }}>\n            <img\n              class=\"card-img-top\"\n              style={{ width: 100, height: 100 }}\n              src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/File_alt_font_awesome.svg/1024px-File_alt_font_awesome.svg.png\"\n              alt=\"Card image cap\"\n            />\n            <h5 class=\"card-title\" style={{ marginTop: 50, marginLeft: 20 }}>\n              {e.filename}\n            </h5>\n            <button onClick={() => console.log(\"fffff\")}>hhhh</button>\n          </div>\n          <div class=\"card-body\">\n            <p class=\"card-text\">\n              Some quick example text to build on the card title and make up the\n              bulk of the card's content.\n            </p>\n\n            <button\n              type=\"button\"\n              class=\"btn btn-link\"\n              onClick={() => viewHandler(e)}\n            >\n              {\" \"}\n              View Pdf{\" \"}\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-link\"\n              onClick={() => download(e.filename)}\n            >\n              download\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default SharedDocument;\n"]},"metadata":{},"sourceType":"module"}