{"ast":null,"code":"import { ERROR_USER, GET_USER, LOGIN_USER, LOGOUT_USER, REGISTER_USER } from \"../action-types/auth-action-types\";\nconst initialState = {\n  id: localStorage.getItem('id'),\n  token: localStorage.getItem('token'),\n  isAuth: false,\n  user: null\n};\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN_USER:\n    case REGISTER_USER:\n      localStorage.setItem('token', action.payload.token);\n      localStorage.setItem('id', action.payload.id);\n      return { ...state,\n        isAuth: true,\n        ...action.payload\n      };\n\n    case ERROR_USER:\n    case LOGOUT_USER:\n      localStorage.clear(); // localStorage.removeItem('token')\n\n      return { ...state,\n        token: null,\n        isAuth: false,\n        user: null\n      };\n\n    case GET_USER:\n      return { ...state,\n        isAuth: true,\n        user: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/fatmaamara/Desktop/comprofat/commaunitedeprofessionnel-fatma 2/authentification-main/front-end/src/redux/reducers/auth-reducer.js"],"names":["ERROR_USER","GET_USER","LOGIN_USER","LOGOUT_USER","REGISTER_USER","initialState","id","localStorage","getItem","token","isAuth","user","authReducer","state","action","type","setItem","payload","clear"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,QAArB,EAA+BC,UAA/B,EAA2CC,WAA3C,EAAwDC,aAAxD,QAA6E,mCAA7E;AAEA,MAAMC,YAAY,GAAC;AACfC,EAAAA,EAAE,EAAEC,YAAY,CAACC,OAAb,CAAqB,IAArB,CADW;AAEfC,EAAAA,KAAK,EAACF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFS;AAGfE,EAAAA,MAAM,EAAC,KAHQ;AAIfC,EAAAA,IAAI,EAAC;AAJU,CAAnB;AAOA,OAAO,MAAOC,WAAW,GAAC,CAACC,KAAK,GAACR,YAAP,EAAoBS,MAApB,KAA6B;AACvD,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKb,UAAL;AACA,SAAKE,aAAL;AACKG,MAAAA,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACG,OAAP,CAAeR,KAA7C;AACAF,MAAAA,YAAY,CAACS,OAAb,CAAqB,IAArB,EAA0BF,MAAM,CAACG,OAAP,CAAeX,EAAzC;AAGL,aAAM,EACF,GAAGO,KADD;AAEFH,QAAAA,MAAM,EAAC,IAFL;AAGF,WAAGI,MAAM,CAACG;AAHR,OAAN;;AAKA,SAAKjB,UAAL;AACA,SAAKG,WAAL;AAAiBI,MAAAA,YAAY,CAACW,KAAb,GAAjB,CACA;;AACA,aAAM,EACF,GAAGL,KADD;AAEFJ,QAAAA,KAAK,EAAC,IAFJ;AAGFC,QAAAA,MAAM,EAAC,KAHL;AAIFC,QAAAA,IAAI,EAAC;AAJH,OAAN;;AAMA,SAAKV,QAAL;AAAc,aAAM,EAChB,GAAGY,KADa;AAEhBH,QAAAA,MAAM,EAAC,IAFS;AAGhBC,QAAAA,IAAI,EAACG,MAAM,CAACG;AAHI,OAAN;;AAQV;AAAQ,aAAOJ,KAAP;AA7BZ;AAgCC,CAjCM","sourcesContent":["import { ERROR_USER, GET_USER, LOGIN_USER, LOGOUT_USER, REGISTER_USER } from \"../action-types/auth-action-types\"\n\nconst initialState={\n    id: localStorage.getItem('id'),\n    token:localStorage.getItem('token'),\n    isAuth:false,\n    user:null\n}\n\nexport const  authReducer=(state=initialState,action)=>{\nswitch (action.type) {\ncase LOGIN_USER:\ncase REGISTER_USER:\n     localStorage.setItem('token', action.payload.token )\n     localStorage.setItem('id',action.payload.id)\n  \n   \nreturn{\n    ...state,\n    isAuth:true,\n    ...action.payload\n}\ncase ERROR_USER:\ncase LOGOUT_USER:localStorage.clear()\n// localStorage.removeItem('token')\nreturn{\n    ...state,\n    token:null,\n    isAuth:false,\n    user:null\n}\ncase GET_USER:return{\n    ...state,\n    isAuth:true,\n    user:action.payload\n   \n}\n\n\n    default:return state\n       \n}\n}"]},"metadata":{},"sourceType":"module"}